{
  "name": "Airplake backend Document",
  "tagline": "",
  "body": "#接口文档  \r\n##说明  \r\n请求正确返回格式:{\"status\":\"OK\",code: 200,\"data\":返回数据}  \r\n请求错误返回格式:{\"status\": \"Error\",\"error_code\": \"错误代码\",\"error_msg\": \"错误信息\"}\r\n\r\n##注册流程\r\n* 注册  \r\n接口地址: http://139.196.203.14:3010/api/v1/users/verification  \r\n请求方式: POST    \r\ndemo:  \r\n```javascript  \r\n          $.ajax({\r\n            type:\"POST\",\r\n            url: \"http://139.196.203.14:3010/api/v1/users/verification\",\r\n            data:{\r\n                email:'119136016@qq.com',\r\n                type: 2    // 1:服务商注册 2.用户注册\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```  \r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",code: 200}  \r\n    * 失败:   \r\n{\"status\":\"Error\",\"error_code\":10002,\"error_msg\":\"Email Is Exists\"}  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}\r\n\r\n* 详细信息保存  \r\n接口地址: http://139.196.203.14:3010/api/v1/users/token  (token为jwt加密数据,会带在跳转地址的参数上面)  \r\n请求方式: PUT    \r\ndemo:  \r\n```javascript  \r\n          $.ajax({\r\n            type:\"PUT\",\r\n            url: \"http://139.196.203.14:3010/api/v1/users/token\",\r\n            data:{\r\n                vendor:{   //服务商详细信息\r\n                    teamname:'测试团队1',\r\n                    tel:13706207777,\r\n                    wechat:'colin',\r\n                    email:'xx@qq.com',\r\n                    city:'广州',\r\n                    servicetime:'全天',\r\n                    equipment:[{type:'无人机',model:'大疆精灵3'},{type:'无人机',model:'大疆精灵3'}],\r\n                    servicetype:'1,2',\r\n                    des:'测试'\r\n                },\r\n                user:{    //用户详细信息\r\n                    name:'xc',\r\n                    password:'csdf',\r\n                    birthday:'1988-09-23',\r\n                    tel:'13806207777',\r\n                    wechat:'csdf',\r\n                    city:'苏州',\r\n                    idCard:'身份证'\r\n                }  \r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```  \r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",code: 200}  \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":10005,\"error_msg\":\"Verify invalid\"}  \r\n{\"status\":\"Error\",\"error_code\":10004,\"error_msg\":\"The User Has Been Verified\"}  \r\n{\"status\":\"Error\",\"error_code\":10003,\"error_msg\":\"Expire\"}  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}\r\n\r\n##服务类型接口\r\n* 获取列表  \r\n接口地址: http://139.196.203.14:3010/api/v1/servicetypes  \r\n请求方式: GET  \r\ndemo:\r\n```javascript\r\n        $.ajax({\r\n            type:\"GET\",\r\n            url: \"http://139.196.203.14:3010/api/v1/servicetypes\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```  \r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",\"code\":200,\"data\":[{\"id\":1,\"title\":\"测试\",\"img\":\"http://test.img\",\"star\":4,\"des\":\"abcd\"},{\"id\":2,\"title\":\"测试\",\"img\":\"http://test.img\",\"star\":4,\"des\":\"abcd\"}]}  \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}\r\n\r\n* 新增  \r\n接口地址: http://139.196.203.14:3010/api/v1/servicetypes  \r\n请求方式: POST  \r\ndemo:  \r\n```javascript  \r\n        $.ajax({\r\n            type:\"POST\",\r\n            url: \"http://127.0.0.1:3010/api/v1/servicetypes\",\r\n            data:{\r\n                title:'测试',\r\n                img: 'http://test.img',\r\n                star: 4,\r\n                des: 'abcd'\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```  \r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",\"code\":200}  \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}\r\n\r\n##任务接口\r\n* 发布任务  \r\n接口地址: http://139.196.203.14:3010/api/v1/jobs  \r\n请求方式: POST  \r\ndemo:  \r\n```javascript  \r\n        $.ajax({\r\n            type:\"POST\",\r\n            url: \"http://139.196.203.14:3010/api/v1/jobs\",\r\n            data:{\r\n                title:'测试',\r\n                des: '描述',\r\n                city: '上海',\r\n                servicetype: '1,2',\r\n                starttime:'2016-02-03',\r\n                endtime:'2016-02-04',\r\n                min:'3.02',\r\n                max:'234.32',\r\n                location:'xcsfdsafsa'\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",\"code\":200}  \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}  \r\n\r\n* 获取任务列表  \r\n接口地址: http://139.196.203.14:3010/api/v1/jobs \r\n请求方式: GET  \r\ndemo:\r\n```javascript\r\n        $.ajax({\r\n            type:\"GET\",\r\n            url: \"http://139.196.203.14/api/v1/jobs\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",\"code\":200,\"data\":[{\"id\":1,\"title\":\"测试\",\"des\":\"描述\",\"city\":\"上海\",\"servicetype\":\"1,2\",\"starttime\":\"2016-02-03\",\"endtime\":\"2016-02-04\",\"max\":234.32,\"min\":3.02,\"location\":\"xcsfdsafsa\"}]}    \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"} \r\n\r\n* 获取任务明细  \r\n接口地址: http://139.196.203.14:3010/api/v1/jobs/id  (id为任务id)  \r\n请求方式: GET  \r\ndemo:\r\n```javascript\r\n        $.ajax({\r\n            type:\"GET\",\r\n            url: \"http://139.196.203.14/api/v1/jobs/1\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n返回结果:  \r\n    * 成功: {\"status\":\"OK\",\"code\":200,\"data\":[{\"id\":1,\"title\":\"测试\",\"des\":\"描述\",\"city\":\"上海\",\"servicetype\":\"1,2\",\"starttime\":\"2016-02-03\",\"endtime\":\"2016-02-04\",\"max\":234.32,\"min\":3.02,\"location\":\"xcsfdsafsa\"}]}  \r\n    * 失败:  \r\n{\"status\":\"Error\",\"error_code\":500,\"error_msg\":\"......\"}  \r\n\r\n\r\n##服务商入口\r\n* 获取列表  \r\n接口地址: http://139.196.203.14:3010/api/v1/portals  \r\n请求方式: GET  \r\ndemo:\r\n```javascript\r\n        $.ajax({\r\n            type:\"GET\",\r\n            url: \"http://139.196.203.14:3010/api/v1/portals\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n\r\n* 单个服务商详细信息  \r\n接口地址: http://139.196.203.14:3010/api/v1/portals/id  (id为服务商id)  \r\n请求方式: GET  \r\ndemo:\r\n```javascript\r\n        $.ajax({\r\n            type:\"GET\",\r\n            url: \"http://139.196.203.14:3010/api/v1/portals/4\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n\r\n* 新增  \r\n接口地址: http://139.196.203.14:3010/api/v1/portals  \r\n请求方式: POST  \r\ndemo:  \r\n```javascript  \r\n        $.ajax({\r\n            type:\"POST\",\r\n            url: \"http://139.196.203.14:3010/api/v1/portals\",\r\n            data:{\r\n                teamname:'测试团队1',\r\n                tel:13706207777,\r\n                wechat:'colin',\r\n                email:'xx@qq.com',\r\n                city:'广州',\r\n                servicetime:'全天',\r\n                equipment:[{type:'无人机',model:'大疆精灵3'},{type:'无人机',model:'大疆精灵3'}],\r\n                servicetype:[1,2],\r\n                des:'测试'\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n\r\n* 修改  \r\n接口地址: http://139.196.203.14:3010/api/v1/portals/id  (id为服务商id)  \r\n请求方式: PUT  \r\ndemo:  \r\n```javascript  \r\n        $.ajax({\r\n            type:\"POST\",\r\n            url: \"http://139.196.203.14:3010/api/v1/portals/4\",\r\n            data:{\r\n                teamname:'测试团队1',\r\n                tel:13706207777,\r\n                wechat:'colin',\r\n                email:'xx@qq.com',\r\n                city:'广州',\r\n                servicetime:'全天',\r\n                equipment:[{type:'无人机',model:'大疆精灵3'},{type:'无人机',model:'大疆精灵3'}],\r\n                content:['婚庆','工地'],\r\n                des:'测试'\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n\r\n* 删除  \r\n接口地址: http://139.196.203.14:3010/api/v1/portals/id  (id为服务商id)  \r\n请求方式: DELETE  \r\ndemo:  \r\n```javascript  \r\n          $.ajax({\r\n            type:\"DELETE\",\r\n            url: \"http://139.196.203.14:3010/api/v1/portals/3\",\r\n            data:{\r\n            },\r\n            success:function(data){\r\n                alert(JSON.stringify(data));\r\n            }\r\n        })\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}